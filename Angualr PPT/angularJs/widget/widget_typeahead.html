<!DOCTYPE html><html>	<head>		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">		<title>Widget</title>		<meta name="author" content="Kenny">		<style>			.active {					  background-color: #C44741;					  color: #f2f2f2;			}		</style>	</head>	<body ng-app="widgetModule">		<div ng-controller='typeaheadCtrl'>			<h1>TypeAhead Using AngularJS</h1>			<typeahead items='items' prompt='Satrt typing a keyworld'  myfilterfortest='name' on-Selectedfortest='onItemSelected()'/>		</div> 			<script type="text/javascript" src="../angular.min.js"></script>		<script type="text/javascript">			var app = angular.module("widgetModule", []);			app.factory('dataFactory',function($http){				return {					get: function(url){						return $http.get(url).then(function(reap){							return reap.data;						});					}				};			});						app.controller('typeaheadCtrl', function($scope,dataFactory) {					dataFactory.get('http://localhost:8056/LearnPHPforWebDev/DEMO/xpath_reader/')					.then(function(data){							$scope.items = data;					});					// "region","name","code","phone","timediff","others"					$scope.name = ''; 					$scope.onItemSelected = function(){							console.log("onItemSelected() in controller after timeout in link... ");							console.log($scope.name);					};			});						app.directive('typeahead',function($timeout){					return {							restrict: 'ACE',							scope: {									items: '=',									prompt: '@',									myfilterfortest: '=',									onSelectedfortest: '&'							},							link: function(scope,elem,attrs){									scope.handleSelection = function(selectedItem){											console.log("scope.handleSelection in link when ng-click...");											scope.myfilterfortest = selectedItem;											scope.current = 0;											scope.selected = true;											$timeout(function(){													scope.onSelectedfortest();											},200);									};									scope.current = 0;									scope.selected = true;									scope.isCurrent = function(index){											return scope.current == index;									};									scope.setCurrent = function(index){											console.log("scope.setCurrent in link  when mouse enter");											scope.current = index;									};							},							//templateUrl: './widgettemp/typeahead.html'							template: '<input type="text" ng-model="myfilterfortest" placeholder="{{prompt}}" ng-keydown="selected=false"/>' 											+ '<div ng-hide="!myfilterfortest.length || selected">'											+ '		<div ng-repeat="item in items | filter:myfilterfortest track by $index" ng-click="handleSelection(item.name)" ' 											+ '							style="cursor:pointer" ng-class="{active:isCurrent($index)}" ng-mouseenter="setCurrent($index)">  '											+ '					<p>{{item.region}}</p><p>{{item.name}}</p>'											+ '		</div>'											+ '</div>' 												};			});					</script>	</body></html>
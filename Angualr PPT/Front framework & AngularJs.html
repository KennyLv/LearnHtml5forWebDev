<!DOCTYPE html>
<!-- saved from url=(0051)http://html5ify.com/unittesting/slides/index.html#/ -->
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Javascript Framework & AngularJs</title>
		<meta name="author" content="Kenny">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">


		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">


		<script type="text/javascript" src="./js/shBrushCore.js"></script>
		<script type="text/javascript" src="./js/shBrushJScript.js"></script>
		<link type="text/css" rel="stylesheet" href="./css/shBrushCoreDefault.css"/>
		<script type="text/javascript">
			SyntaxHighlighter.all();
		</script>

	</head>

	<body style="-webkit-transition: -webkit-transform 0.8s ease; transition: -webkit-transform 0.8s ease;">

		<div class="reveal zoom">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
					

				<section class="cover present" style="display: block;">
					<h1>Front Framework & AngularJs</h1>
					<h3>@Kenny</h3>
				</section>

				<section class="future" style="display: block;">
					<h2>Agenda</h2>
					<ul>
						<li>
							Front framework
						</li>
						<li>
							About AngularJS
							<!--
							(示例：baidu_map & 控件 & 天气插件 & qTips -- 想new几个new几个)
							估计是被忽悠了？ ---- 后面的代码很吓人啦！！
							好处 -- 不仅仅是MVC -- 工程化、开源（这个好处不用讲了，看看这个页面）
							-->
						</li>
						<li>
							First Look at AngularJs
							<!--
							基础知识（对MVC的实现）
							-->
						</li>
						<li>
							Little further on AngualrJs
							<!--
							- 深入实现（ 实现原理，实战）
							-->
						</li>
						<li>
							Q&A 
						</li>
					</ul>

				</section>

				
				<section class="future" style="display: none;" >
						<section>
							<h2>Web开发与前端框架</h2>
									<!--
									我的学习过程分享ASP.NET -> Web Services & XML -> Restful & JSON ->
									-->
									
									<!--
									
									Flex  [自己也是在学习中，不敢妄言，以后深入应用后再做补充] 
1. Adobe平台的，基于ActionScript实现，用在哪都行，但偏重于内网管理系统，用在门户网站就相当于在线玩Flash游戏，loading... 
2. 与Ext不同，它有健壮的可视化开发工具Flash Builder，可以同C#一样进行拖拽布局，生成一种xml，也便于维护。 
3. 编译后生成swf文件直接嵌入html即可，提高安全性，浏览时同flash，需要flash player。 
4. 与Ext相同，也是属于一个整体，有丰富的控件库。 
5. 这条纯属个人观点，HTML5不支持插入对象，也就意味着不能插入swf文件，难道Flex就完蛋了？虽然HTML5不支持Flash是客观事实，但HTML5的统一为时尚远，各大浏览器对HTML5的支持，Adobe是否会有对策，这些会怎么样现在都不好说，HTML5与HTML4并行应该会有很长一段时间，至少Flex在现在是一个名列前茅的好产品，所以我选择了它。 

SilverLight 
微软平台的，主要是应用在微软系列的语言中，包括CS与BS架构。同样，
									
									-->
									<!--
									
									除了jQuery，Asp.net也不适合与以上等框架集成，因为Asp.net是事件驱动，这些框架都是为消息驱动而生的，勉强应用只会事倍功半，丧失.net本身的优势。 

									-->
							
						</section>
						<section>
							<h2>Web开发与前端框架</h2>
		<!--
																jQuery 
		1. 绝对的万金油，核心js只有50K，占用带宽小，门户网站、管理系统，用在哪都可以。 
		2. jQuery是对js底层dom操作封装最薄的一个框架，没有大量的专有对象，多为提供函数进行dom操作。准确的说，它不是偏重于富客户端的框架，而是侧重于对js dom编程。下面几种才是完整的富客户端的框架。 
		3. 我认为它最大的三个亮点，一是支持CSS3的大量选择符，想定位或选择一个html元素简直轻而易举。二是灵活便捷的Ajax请求和回调操作。三是事件绑定功能，内部封装了很多事件，想统一为一个页面上的一些元素添加事件很方便，这也提高了复用性和可维护性，避免了页面中出现大量的html属性。合理的编码可以使html与js, css分离开，便于维护。 
		4. 此外它也封装了很多常用的操作，例如节点的添加删除、常用的动画效果、逻辑判断比较等等。避免了直接使用dom api进行繁琐的操作。 
		5. 本身提供了可扩展的函数，可以自己编写插件与核心jQuery对象进行集成使用。这也是常用的手段，只要你理解js面向对象编程，熟悉jQuery API，就能写出很多定制的插件，复用在各种地方。 
		6. 至于jQueryUI，与其他框架不一样的地方在于，它很少用js去生成html，而是把现有的html通过jQueryUI的API加工成想要的效果，关于这点是好是坏，我觉得就是见仁见智的问题了，没有必要争论什么。 
		7. 新生的jQuery EasyUI不错。 
		8. 如果今后的更新都保持现在这种模式，我认为它的前景很乐观，什么时候javascript完蛋了才轮到它玩完。 
									
									-->
							
						</section>
						<section>
							<h2>Web开发与前端框架</h2>

									<!--
									框架演化 （）- > MV* -> 分工(EJS,YUI)
									-->
							
						</section>
						<section>
							<h2>Web开发与前端框架</h2>

									<!--
									前端的挑战  http://www.zhihu.com/question/19984897
									-->
							
						</section>
				</section>

				<section class="future" style="display: none;">
						<h2>Fragmented Views</h2>
						<p>Hit the next arrow...</p>
						<div class="fragment"><code>any type</code></div>
						<div class="fragment"><em>of view</em></div>
						<div class="fragment"><div style="width:100px;height:100px; background:red;">fragments</div></div>
						
						<!--<ol>
							<li class="fragment"><code>any type</code></li>
							<li class="fragment"><em>of view</em></li>
							<li class="fragment"><strong>fragments</strong></li>
						</ol>-->
				</section>
					
					
				<section class="future" style="display: none;">
					<h2>About AngularJs</h2>
					<!--
						Example -- Hello world!
					-->
					<!--
						Modules -- Where our application components live.
						Directives --HTML annotations that trigger Javascript behaviors.
						Controllers -- Where we add application behavior.
						Expressions -- How values get displayed within the page.
					-->
					<!--
						Services
					-->
					
				</section>
				

				<section class="future" style="display: none;">
					<h2>Module</h2>
					
				</section>
				
				<section class="future" style="display: none;">
					<h2>Directive</h2>
					<!--
					Why use directives?
					-->
					<!--
					Attribute vs Elements directives
					-->
					
					<!--
					How to build a customer directives?
					-->
					
					<!--
						restrict: 'A',
						template
						link
						-->
						
						
				</section>
				
				<section class="future" style="display: none;">
					<h2>Controller</h2>
					
				</section>
				
				<section class="future" style="display: none;">
					<h2>Scope</h2>
					
				</section>
				
				<section class="future" style="display: none;">
					<h2>View</h2>
					
				</section>

				<section class="future" style="display: none;">
					<h2>Expression</h2>
					<!--
					{{}}
					-->
					<!--
					ng-src
					-->
					<!--
					ng-repeat
					-->
				</section>

				
				
				<section class="future" style="display: none;">
					<h2>filter</h2>
					<!--
					basic filters
					-->
					
					<!--
					Linky
					$scope.contents = 'Text with links: http://angularjs.org/ & mailto:us@there.org';
					
					<div ng-bind-html="contents"></div>
					Text with links: http://angularjs.org/ & mailto:us@there.org
					
					<div ng-bind-html="contents | linky"></div>
					The linky filter goes through the text contents and adds <a> tags to all URLs and mailtolinks it finds, thus providing HTML content that the user can interact with:
					Text with links: http://angularjs.org/ & us@there.org
					-->
			
					
				</section>
				
				<section class="future" style="display: none;">
					<h2>事件处理</h2>
					
				</section>
				
				<section class="future" style="display: none;">
					<h2>路由与多视图</h2>
					
				</section>
				
				
				<section class="future" style="display: none;">
					<h2>Service</h2>
					
						<!--
						why need a service?
						-->
						<!--
						How does Controller use a service?
						-->
						
						<!-- Example : 
						$http 
						-->
						
						<!--
						Dependency Injection!
						-->
						
					<!--
					How to build a customer Service?
					-->
					
						<!--
						$http
						$timeout
						$log
						$provider
						$inject

						-->
						
						
				</section>
				
				
				<section class="future" style="display: none;">
					<h2>Form</h2>
					
					<!--
					two-way binding
					-->
					<!--
					validate
					-->
				</section>
				
				
				<section class="future" style="display: none;">
					<h2>File Upload in AngularJS</h2>
					
				</section>
				
				<!--
				/////////////////////////////////////////////深入////////////////////////////////////////////////////////////////////////
				-->

				<section class="future" style="display: none;">
					<h2>How AngularJS Start up</h2>
				
				</section>
				
					
				<section class="future" style="display: none;">
					<h2>ng运行与指令</h2>
					<!---
				ng-app指令：
				<html lang="en" ng-app>
				ng-app指令标记了AngularJS脚本的作用域，在<html>中添加ng-app属性即说明整个<html>都是AngularJS脚本作用域。开发者也可以在局部使用ng-app指令，如<div ng-app>，则AngularJS脚本仅在该<div>中运行。
					-->
					
					<!--
					angular指令的compile的参数(tElement,tAttrs)和link中的参数(scope,iElement,iAttrs)究竟有什么区别?
					http://segmentfault.com/q/1010000000664866
					
					ng指令中的compile与link函数解析
					http://www.ifeenan.com/angularjs/2014-09-04-%5B%E8%AF%91%5DNG%E6%8C%87%E4%BB%A4%E4%B8%AD%E7%9A%84compile%E4%B8%8Elink%E5%87%BD%E6%95%B0%E8%A7%A3%E6%9E%90/
					-->
					
					<!--
link: function(scope, element, attrs) {
var optionsObj = {
dataType: 'json'
};
if (scope.done) {
optionsObj.done = function() {
scope.$apply(function() {
scope.done({e: e, data: data});
});
};
}
if (scope.progress) {
optionsObj.progress = function(e, data) {
scope.$apply(function() {
scope.progress({e: e, data: data});
});
}
}
// the above could easily be done in a loop, to cover
// all API's that Fileupload provides
element.fileupload(optionsObj);
}-->
				</section>

				
				<section class="future" style="display: none;">
					<h2>AngularJS Runtime -- To $apply, or Not to $apply?</h2>
					<!--
					http://www.sitepoint.com/understanding-angulars-apply-digest/
					-->
					<!--
					To $apply, or Not to $apply?
There is confusion amongst AngularJS developers about when $scope.$apply() should
be called and when it shouldn’t. Recommendations and rumors on the Internet are
rampant. This section will make it crystal clear.
But first, let us try to put $apply in a simpler form.
Scope.$apply is like a lazy worker. It is told to do a lot of work, and it is responsible for
making sure that the bindings are updated and the view reflects all those changes. But
rather than doing this work all the time, it does it only when it feels it has enough work
to be done. In all other cases, it just nods, and notes the work for later. It only actually
does the work when you get its attention and tell it explicitly to work. AngularJS does
this internally at regular intervals within its lifecycle, but if the call comes from outside
(say a jQuery UI event), scope.$apply just takes note, but does nothing. That is why
we have to call scope.$apply to tell it, “Hey! You need to do this right now, and not
wait!”
Here are four quick tips about when (and how) to call $apply.

• DO NOT call it all the time. Calling $apply when AngularJS is happily ticking away
(in its $digest cycle, as we call it) will cause an exception. So “better safe than sorry”
is not the approach you want to use.
• DO CALL it when controls outside of AngularJS (DOM events, external callbacks
such as jQuery UI controls, and so on) are calling AngularJS functions. At that
point, you want to tell AngularJS to update itself (the models, the views, and so on),
and $apply does just that.

• Whenever possible, execute your code or function by passing it to $apply, rather
than executing the function and then calling $apply(). For example, execute the
following code:
$scope.$apply(function() {
$scope.variable1 = 'some value';
executeSomeAction();
});
instead of the following:
$scope.variable1 = 'some value';
executeSomeAction();
$scope.$apply();
While both of these will have the same effect, they differ in one significant way.

The first will capture any errors that happen when executeSomeAction is called, while
the latter will quietly ignore any such errors. You will get error notifications from AngularJS
only when you do the first.

• Consider using something like safeApply:
$scope.safeApply = function(fn) {
var phase = this.$root.$$phase;
if(phase == '$apply' || phase == '$digest') {
if(fn && (typeof(fn) === 'function')) {
fn();
}
} else {
this.$apply(fn);
}
};
You can monkey patch this into the topmost scope or the rootscope, and then use the
$scope.$safeApply function everywhere. This has been under discussion, and hopefully
in a future release, this will be the default behavior.

					-->
				</section>
				
				<section class="future" style="display: none;">
					<h2>Modules and the Injector</h2>
				
				</section>
				
				<section class="future" style="display: none;">
					<h2>Event Loop</h2>
				</section>
				
				<section class="future" style="display: none;">
					<h2>Diving Deep with Dependency Injection</h2>
				</section>
				
				<section class="future" style="display: none;">
					<h2>Diving deep into the AngularUI Router</h2>
				</section>

				<section class="future" style="display: none;">
					<h2>The Teams List App: Filtering and Controller Communication</h2>
					<!--
					In this example, we tackle multiple things at the same time, but there are two major takeaways(经验教训):
					1. How do you use filters—especially in a clean, simple way—with repeaters?
					2. How do you communicate between controllers that do not share an inheritance relation?
					-->

		
					<!--
					The Search Box
					filterService.searchText
					
					The Combo Boxes
					filterService.activeFilters.sports or city (depending on the box),

					The Check Box
					filterService.activeFilters.featured
					
					The Repeater
					"team in teamsList | filter:filterService.activeFilters | filter:filterService.searchText"

					-->

				</section>
				
				<section class="future" style="display: none;">
					<h2>Communicating Between Scopes with $on, $emit, and$broadcast</h2>
				</section>
				
				
				<section class="future" style="display: none;">
					<h2>$http and promise</h2>
					
						<!-- 
						$http with promise Working with Servers and Login
						-->
						
						<!-- 
						Additional $http functionality
						-->
						
						
				</section>
				
				<section class="future" style="display: none;">
					<h2>Internationalization and Localization</h2>
					<!--
					AngularJS supports i18n/L10n for the following filters out of the box:
• currency
• date/time
• number
There is also pluralization support (for English as well as i18n/L10n) with the ngPlur
alize directive.
All of this pluralization support is handled and managed by the $locale service, which
manages the locale-specific rule sets. The $locale service works off of locale IDs, which
generally consist of two parts: the country code and the language code. For example,
en_US and en_UK, denote English used in the US and the UK, respectively. Specifying a
country code is optional, just specifying “en” is a valid locale code.

1,Index.html changes
AngularJS requires you to have a separate index.html for each supported locale.
Your server also needs to know which index.html it has to provide, depending on
the user’s locale preferences (this could also be triggered from a client-side change,
when the user changes his locale).

2,Creating localized rule sets
The next step is creating an angular.js file for each supported locale, like
(angular_en-US.js and angular_zh-CN.js). This involves concatenating the
localization rules for each particular language (the default files for the preceding
two locales would be angular-locale_en-US.js and angular-locale_zh-CN.js) at the
end of the angular.js or the angular.min.js file. So your angular_en-US.js would
contain the contents of angular.js first, followed by the contents of the angularlocale_en-US.js.

3,Sourcing the localized rule sets
The final step involves ensuring that your localized index.html refers to the localized
rule set instead of the original angular.js file. So index_en-US.html should use
angular-en_US.js and not angular.js.

NOTE : 
•Translation Length
When internationalizing your apps, keep in mind that the lengths of your strings
might change drastically from language to language. Design your CSS accordingly,
and do thorough testing across the various languages. (Don’t forget that right to left
languages also exist!  <a herf="http://www.ibm.com/developerworks/cn/web/1404_xiayin_bidihtml/index.html">Introduction to bidirectional languages</a>)
•Timezones
The AngularJS date/time filter picks up the timezone settings from the browser. So
depending on the timezone of the computer, different people might see different
information. Neither JS nor AngularJS have any built-in support to display time
with a timezone specified by the developer


-->

				</section>

				
				<section class="future" style="display: none;">
					<h2>代码美化与规范</h2>
					<!--
					Module的分离与合并？ controller的分离与合并
					-->
					
					<!--
					依赖$injection的顺序
					-->
					
					<!--
					someModule.controller('MyController', function($scope, dep1, dep2) {
					  ...
					  $scope.aMethod = function() {
						...
					  }
					  ...
					});
					压缩之后若是修改了函数的参数名称会导致它不能注入依赖。那么可以改用 Array 的方式声明

						someModule.controller('MyController', ['$scope', 'dep1', 'dep2', 
													   function($scope,   dep1,   dep2) {
						  ...
						  $scope.aMethod = function() {
							...
						  }
						  ...
						}]);
						这样代码压缩就不会有问题了
						
						-->
						
						<!--
						现在我遇到这样一个问题，使用seajs配合angularjs，每个controller都写成了一个模块文件，再我最终部署的时候，我应该压缩合并这些controller了吗？
						seajs有相应的对angularjs的解决方案吗？ https://github.com/seajs/seajs/issues/555
						-->
						
						<!--
						How should I organize my modules? 
						-->
						
						<!--
							Angular Namespace
					为了防止名称冲突，angular会在object的名称中加入前缀$。请不要在代码中使用$前缀以避免冲突。(-_-!! )
						-->
						
				</section>

				
				<section class="future" style="display: none;">
					<h2>Using jQuery</h2>
				

				</section>

				<section class="future" style="display: none;">
					<h2>Using Socket.IO</h2>
				</section>

				
				<section class="future" style="display: none;">
					<h2>How to implement a UT</h2>
					<!--Pagination Service with unit test-->
					
					<!--
					基于AngularJS的项目被预先配置为使用JsTestDriver来运行单元测试。
					你可以像下面这样运行测试：
							在一个单独的终端上，进入到angular-phonecat目录并且运行./scripts/test-server.sh来启动测试（Windows命令行下请输入.\scripts\test-server.bat来运行脚本，后面脚本命令运行方式类似）；
							打开一个新的浏览器窗口，并且转到http://localhost:9876 ；
							选择“Capture this browser in strict mode”。
					这个时候，你可以抛开你的窗口不管然后把这事忘了。JsTestDriver会自己把测试跑完并且把结果输出在你的终端里。
					运行./scripts/test.sh进行测试 。你应当看到类似于如下的结果：
							Chrome: Runner reset.
							Total 1 tests (Passed: 1; Fails: 0; Errors: 0) (2.00 ms)
							Chrome 19.0.1084.36 Mac OS: Run 1 tests (Passed: 1; Fails: 0; Errors 0) (2.00 ms)
					耶！测试通过了！或者没有... 注意：如果在你运行测试之后发生了错误，关闭浏览器然后回到终端关了脚本，然后在重新来一边上面的步骤。
					-->
					
					
				</section>
				

				<section class="future" style="display: none;">
					<h2>总结</h2>
					<ul>
						<li>
						Angular 编程思想 http://www.oschina.net/translate/the-angular-way?print
						</li>
					</ul>

				</section>

				<section class="future" style="display: none;">
					<h2>Q &amp; A</h2>
					<div>Thanks</div>
					<ol>
							<li><a href="http://www.cnblogs.com/lcllao/archive/2012/10/18/2728787.html">AngularJs学习笔记--Guide教程系列文章索引</a></li>
							<li><a href="http://www.ng-newsletter.com/">ng-newsletter</a></li>
							<li><a href="http://angularjs.cn/T001">AngularJs中文社区</a></li>
							<li><a href="http://woxx.sinaapp.com/">用AngularJS开发下一代Web应用</a></li>
							
					</ol>
				</section>

				<section class="future" style="display: none;">
					<h2>TODO 击鼓传花 -- 未接之谜</h2>
					<ul>
						<li>
							<span>AngularJs 日志输出</span>
							<span>如何对Directive/Service做单元测试？</span>
							<span>如何对AngularJs做测试？</span>
						</li>
						<li>
							<span>AngularJ项目代码的组织</span>
							<span>如何实现工程化？</span>
						</li>
					</ul>

				</section>
				
				<section class="future" style="display: none;">
						<svg width="800px" height="600px">
								<path id="my_path" d="M 20,260 C 40,180 80,180 100,260"  />
								<text>
										<textPath xlink:href="#my_path">如何实现工程化？</textPath>
								</text>
						</svg>
				</section>

			</div>
			
			<div class="progress" style="display: block;">
				<span style="width: 0px;"></span>
			</div>
			<aside class="controls" style="display: block;">
				<div class="left"></div>
				<div class="right enabled"></div>
				<div class="up"></div>
				<div class="down"></div>
			</aside>
			<aside class="clcok" style="display: block;">
					<!-- TODO -->
			</aside>
			<div class="state-background"></div>
			<div class="pause-overlay"></div>
		</div>


		<script src="js/head.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>
		// Full list of configuration options available here:
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
		controls : true,
		progress : true,
		history : true,
		mouseWheel: false,
		overview: true,
		keyboard : true,
		rollingLinks : true,
		slideNumber: true,
		theme : Reveal.getQueryHash().theme, // available themes are in /css/theme
		transition : Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/none
			
		// Optional libraries used to extend on reveal.js
		dependencies : [{
		src : 'js/plugin/classList.js',
		condition : function() {
		return !document.body.classList;
		}
		}, {
		src : 'js/plugin/showdown.js',
		condition : function() {
		return !!document.querySelector('[data-markdown]');
		}
		}, {
		src : 'js/plugin/markdown.js',
		condition : function() {
		return !!document.querySelector('[data-markdown]');
		}
		}, {
		src : 'js/plugin/zoom.js',
		async : true,
		condition : function() {
		return !!document.body.classList;
		}
		}, {
		src : 'js/plugin/notes.js',
		async : true,
		condition : function() {
		return !!document.body.classList;
		}
		}]
		});
		</script>

		<script type="text/javascript" src="js/plugin/zoom.js"></script>
		<script type="text/javascript" src="js/plugin/notes.js"></script>


	</body>
</html>
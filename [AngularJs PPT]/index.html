<!doctype html><head>	<meta charset="utf-8">	<title>Lesson5 -- ngAnimate</title>	<link type="text/css" rel="stylesheet" href="./css/style_lesson.css"></head><body ng-app="myProjectApp">		<div style="position: absolute;height: 100%;">				<div id="nav" ng-controller="menuCtrl">						<div  id="nav_back">								<div class="agenda">										<p>Agenda</p>										<select ng-model="currentIndex" ng-options="course.name for course in courses"></select>										<hr>										<ul>												<li ng-repeat="a1 in navbar">													<a href="{{ a1.link }}">{{ a1.label }} <b class="caret"></b></a>														<ul>															<li ng-repeat="a2 in a1.children">																<a tabindex="-1" href="{{ a2.link }}">{{ a2.label }}</a>																	<ul ng-show="a2.children.length>0">																		<li ng-repeat="a3 in a2.children">																			<a href="{{ a3.link }}" ng-click="go(a3.link)">{{ a3.label }}</a>																		</li>																	</ul>															</li>														</ul>												</li>										</ul>								</div>								<div id="navExplander">-</div>						</div>				</div>						<div class="viewcontainer">						<div ng-view class="view_frame" ></div>				</div>		</div>					<script type="text/javascript" src="../_Resource/jquery-2.1.1.min.js"></script>		<script type="text/javascript" src="../_Resource/angular_1.2.25/angular.min.js"></script>		<script type="text/javascript" src="../_Resource/angular_1.2.25/angular-route.min.js"></script>		<script type="text/javascript">				var myProjectApp = angular.module('myProjectApp', ['ngRoute'])					.provider('myRouter', function ($routeProvider) {							console.log("In provider() ...");							var collectionUrl;							this.$get = function ($http) {									return {											setUpRoutes: function () {													console.log("get Collection Url... ");													$http.get(collectionUrl).success(function (collection) {															console.log("get Collection Url succeed... ");																																$routeProvider.when('/', {																					templateUrl : 'wellcome.html'//,																					//controller  : 'homeCtrl'																	}).when('/404', {																					templateUrl : '404.html'																	}).otherwise({																			redirectTo: '/404'																	});																														for (var i = 0; i < collection.length; i++) {																var routeName = collection[i];																$routeProvider.when(routeName.router, {																		templateUrl : routeName.view//,																		controller : routeName.controller																});																																console.log(routeName.router +"..........."+ routeName.view + "------" + routeName.controller);															}													});											}									}							};							this.setRouterUrl = function (url) {									collectionUrl = url;							}				}).config(['$routeProvider','myRouterProvider',function ($routeProvider,$myRouterProvider) {							console.log("In config() ...");														$myRouterProvider.setRouterUrl("./assets/router.json");				}]).run(function (myRouter) {							console.log("In run() ...");							myRouter.setUpRoutes();				});								myProjectApp.controller('menuCtrl', function($scope, $http) {						console.log("In controller...");												$scope.currentIndex = null;						$scope.courses = null;												$http.get("./assets/menu.json").success(function (collection) {								$scope.courses = collection;								$scope.currentIndex = collection[0];						});												$scope.$watch('currentIndex',function(){								if($scope.currentIndex != null){										$scope.navbar = $scope.currentIndex.menu;								}						});				});		</script></body></html>
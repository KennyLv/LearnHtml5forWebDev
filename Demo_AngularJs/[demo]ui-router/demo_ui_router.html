<!DOCTYPE html><html>	<head>		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">		<title>demo</title>		<meta name="author" content="Kenny">	</head>	<body ng-app="testDemoModule"  ng-controller="MainController">			<a ng-href="#xxx">xxx</a>		<a href="#yyy">yyy</a>		<a ui-sref="zzz">zzz</a>		<br/>		<div ui-view></div>		<br/>		<a ng-click="reload()">reload</a>			</body>		<script type="text/javascript" src="../../_Resource/angular_1.2.25/angular.min.js"></script>		<script type="text/javascript" src="../../_Resource/angular-ui-router.min.js"></script>		<script type="text/javascript">		angular.module('Routing', ['ui.router']).provider('myRouter', function ($stateProvider) {				var collectionUrl;				this.$get = function ($http, $state) {						return {								setUpRoutes: function () {										console.log("get Collection Url... ");										$http.get(collectionUrl).success(function (collection) {												console.log("get Collection Url succeed... ");												for (var routeName in collection) {														if (!$state.get(routeName)) {																console.log(routeName);																console.log(collection[routeName]);																$stateProvider.state(routeName, collection[routeName]);														}												}												console.log("stateProvider resetted... ");										});								}						}				};				this.setCollectionUrl = function (url) {						collectionUrl = url;				}		}).run(function (myRouter) {					console.log("2, in provider run");					myRouter.setUpRoutes();		});						var app = angular.module("testDemoModule", ['Routing'])		.config(function ($stateProvider, $urlRouterProvider, myRouterProvider) {				$stateProvider.state('home', {						url: '/home',						templateUrl: 'templates/home.html'				});				$urlRouterProvider.otherwise('/home');				console.log("1, in config");				myRouterProvider.setCollectionUrl('routeCollection.json');								/*				$stateProvider.state('xxx', {						url: '/xxx',						templateUrl: 'templates/xxx.html'				});				$stateProvider.state('yyy', {						url: '/yyy',						templateUrl: 'templates/yyy.html'				});				*/						}).controller('MainController', function ($scope, myRouter) {						console.log("3, in controller...");								$scope.reload = function() {						console.log("reload ...");						myRouter.setUpRoutes();				};		});				/*		app.provider('router', function ($stateProvider) {				var urlCollection;				this.$get = function ($http, $state) {						return {								setUpRoutes: function () {										$http.get(urlCollection).success(function (collection) {													for (var routeName in collection) {																if (!$state.get(routeName)) {																			$stateProvider.state(routeName, collection[routeName]);																}													}										});								}						}				};				this.setCollectionUrl = function (url) {						urlCollection = url;				}		}).run(function (router) {				router.setUpRoutes();		});*/			</script></html>
<!DOCTYPE HTML><html lang="zh-cn"><head>		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">		<title>http resource demo</title>		<meta name="author" content="Kenny"></head><body ng-app="phonecat">		<div ng-view></div>					<script type="text/javascript" src="../angular_1.2.25/angular.js"></script>		<script type="text/javascript" src="../angular_1.2.25/angular-route.js"></script>		<script type="text/javascript" src="../angular_1.2.25/angular-resource.js"></script>				<script type="text/javascript">				var app = angular.module('phonecat', ['ngRoute','ngResource']);								app.filter('checkmark', function() {						return function(input) {								return input ? '\u2713' : '\u2718';						};				});								app.run(['$rootScope', '$window', '$location', '$log', function ($rootScope, $window, $location, $log) {  						var locationChangeStartOff = $rootScope.$on('$locationChangeStart', locationChangeStart);  						var locationChangeSuccessOff = $rootScope.$on('$locationChangeSuccess', locationChangeSuccess);  						var routeChangeStartOff = $rootScope.$on('$routeChangeStart', routeChangeStart);  						var routeChangeSuccessOff = $rootScope.$on('$routeChangeSuccess', routeChangeSuccess);  						function locationChangeSuccess(event) {  								$log.log('locationChangeSuccess');  						}  						function routeChangeStart(event) {  								$log.log('routeChangeStart');  						}  						function routeChangeSuccess(event) {  								$log.log('routeChangeSuccess');  						} 												function locationChangeStart(event, newUrl) {  								var ret = $window.confirm('Are you sure to give it up? ');  								if (ret) {  										locationChangeStartOff(); //Stop listening for location changes or you can do others  										$location.path(newUrl);  										return;  								}  								event.preventDefault();  								return;  						}  																}]);								app.factory('Phone', function($resource){						//return $resource('phones.json', {}, {						return $resource('assets/phones/:anythingherethatnotexist.json', {}, { 						//return $resource(':phoneId.json', {}, { 								//重写query方法								query: {										method:'GET', 										params:{ phoneId : 'phones'}, 										isArray:true								},								get: {										method:'GET', 										isArray:true								},								//自定义方法								'update': { 										method:'PUT'								}						});				});								app.controller("PhoneListCtrl", ['$scope', 'Phone', function($scope, Phone) {						$scope.phones = Phone.query();						$scope.orderProp = 'code';				}]);								app.controller("PhoneDetailCtrl", ['$scope', '$routeParams','Phone', function($scope, $routeParams, Phone) {						Phone.get({phoneId: $routeParams.phoneId}, function(phone) {								$scope.phone = phone;						});												$scope.setImage = function(imageUrl) {								$scope.mainImageUrl = imageUrl;						}				}]);								app.config(function($routeProvider) {						$routeProvider.when('/phones',{								templateUrl: 'demo_http_resource_partials_list.html',								controller: 'PhoneListCtrl'						}).when('/phones/:phoneId', {								templateUrl: 'demo_http_resource_partials_detail.html', 								controller: 'PhoneDetailCtrl'						}).otherwise({								redirectTo: '/phones'						});				});						</script></body></html>